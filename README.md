# Sanitizer

Предположим, что перед нами стоит задача обработать HTTP-запрос от клиента или ответ от
стороннего API, содержащий данные в формате JSON.
Нужно написать библиотеку "санитайзер", которая занимается валидацией и нормализацией
данных в соответствии с переданной спецификацией.
## Примеры

 ```
    $data     = ['a' => [9502900655, 89502900655, 79502900655, "+7(950)290-06-55"]];
	$typeData = ['a' => ['phone']];

	$sanitizerV1 = new Sanitizer($data, $typeData);
	$sanitizerV1->sanitize()
	
	// Результат
	// ['a' => ["79502900655", "79502900655", "79502900655", "79502900655"]]
```


```	
	$data = [
			'a' => [9502912600, 89502912600, 79502912600, "+7(950)291-26-00"],
			'b' => 234.5,
			'c' => [
				'aa' => "abc",
				"bb" => 234,
				"cc" => [1, 2, 3]
			],
			'd' => [123, 123, 234],
			'e' => [
				'array' => [123, 123, 123]
			]
		];
	$typeData = [
			'a' => ['phone'],
			'b' => 'float',
			'c' => ['aa'    => 'float', 'bb'  => 'integer', 'cc'  => ['integer']],
			'd' => ['integer123'],
			'e' => ['array' => ['phone']],
		];
		
	// Результат
	// [
	//		'a' => ['79502912600', '79502912600', '79502912600', '79502912600'],
	//		'b' => 234.5,
	//		'c' => [
	//			'aa' => '"abc" является типом string. Для него был указан тип: float.',
	//			"bb" => 234,
	//			"cc" => [1, 2, 3]
	//		],
	//		'd' => [
	//		    'Неизвестный тип данных: integer123.',
	//		    'Неизвестный тип данных: integer123.',
	//		    'Неизвестный тип данных: integer123.'
	//		],
	//		'e' => [
	//			'array' => [
	//			    'Значение не соответстует формату номера телефона.',
	//			    'Значение не соответстует формату номера телефона.',
	//			    'Значение не соответстует формату номера телефона.'
	//			]
	//		]
	//	];
```

Санитайзер принимает на входе данные и типы для них в формате:  ['key' => value].
Метод sanitize возвращает результат валидации данных.

## Поддерживаемые типы данных
* string
* integer
* float
* phone
* array  - передаётся массив с типом данных внутри. Например, ['string']
* object - передаётся ассоциативный массив, где ключи совпадают с ключами данных, а значения это типы данных. Например, ['a' => 'string']

В массивы и объекты могут быть вложены другие массивы, другие объекты и т.д.


## Запуск тестов
```sh
$ composer run-script test
```
